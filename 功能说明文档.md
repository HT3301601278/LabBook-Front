# 实验室预约管理系统功能说明文档

## 1. 项目整体概述

实验室预约管理系统（LabBook）是一个基于Vue.js开发的现代化Web应用，旨在提高实验室资源的使用效率和管理水平。系统采用前后端分离架构，前端使用Vue.js框架和Element UI组件库构建用户界面，通过RESTful API与后端进行数据交互。

系统的核心目标是实现实验室资源的智能化管理，包括实验室信息维护、预约申请与审核、设备报修与检修等功能，为学校实验室管理提供全方位的信息化支持。

## 2. 功能模块划分

系统根据不同用户角色划分为三大功能模块：

### 2.1 系统管理员模块

- 用户管理（管理员、实验室管理员、学生）
- 实验室分类管理
- 实验室信息管理
- 公告管理
- 预约记录管理
- 报修处理
- 检修记录管理

### 2.2 实验室管理员模块

- 实验室信息管理
- 预约审核
- 报修处理
- 个人信息管理

### 2.3 学生模块

- 实验室浏览
- 预约申请
- 设备报修
- 个人信息管理

## 3. 主要功能点说明

### 3.1 用户管理

#### 3.1.1 用户注册

- **功能描述**：学生用户可以通过注册页面创建账号
- **实现细节**：
  - 收集用户基本信息（用户名、密码、姓名、学号、学院、专业、电话）
  - 上传学生证照片进行身份验证
  - 支持学院-专业级联选择

#### 3.1.2 用户登录

- **功能描述**：所有角色用户通过统一登录页面进入系统
- **实现细节**：
  - 支持角色选择（系统管理员、实验室管理员、学生）
  - 基于token的身份验证
  - 登录状态保持
  - 路由守卫确保未登录用户无法访问受保护页面

#### 3.1.3 个人信息管理

- **功能描述**：用户可以查看和修改个人资料
- **实现细节**：
  - 头像上传与更新
  - 基本信息修改（姓名、电话、邮箱等）
  - 密码修改

### 3.2 实验室管理

#### 3.2.1 实验室分类管理

- **功能描述**：系统管理员可以创建和管理实验室分类
- **实现细节**：
  - 分类的增删改查
  - 分类信息展示

#### 3.2.2 实验室信息管理

- **功能描述**：管理员可以创建和维护实验室信息
- **实现细节**：
  - 基本信息管理（名称、编号、位置、分类等）
  - 开放时间设置（开始时间、结束时间）
  - 最大预约时长设置
  - 使用状态管理（空闲中、使用中、已预约）
  - 关联实验室管理员
  - 上传使用手册（PDF格式）
  - 上传3D模型文件

#### 3.2.3 实验室3D模型查看

- **功能描述**：提供实验室3D模型的交互式查看功能
- **实现细节**：
  - 基于Three.js的3D模型渲染
  - 支持模型旋转、缩放
  - 光照调节（环境光、点光源、平行光）
  - 全屏查看模式

### 3.3 预约管理

#### 3.3.1 实验室预约

- **功能描述**：学生可以预约可用的实验室
- **实现细节**：
  - 实验室卡片式展示
  - 按分类和名称筛选实验室
  - 查看实验室详细信息（位置、使用状态、开放时间等）
  - 预约时间段选择（开始时间、结束时间）
  - 预约时长限制检查

#### 3.3.2 预约审核

- **功能描述**：实验室管理员审核学生的预约申请
- **实现细节**：
  - 预约记录列表查看
  - 按状态筛选（待审核、已通过、已拒绝）
  - 审核操作（通过/拒绝）
  - 预约完成状态管理（未开始、进行中、已完成）

#### 3.3.3 预约记录管理

- **功能描述**：用户可以查看和管理自己的预约记录
- **实现细节**：
  - 学生可以取消待审核的预约
  - 管理员可以结束正在进行中的预约
  - 预约状态可视化展示（使用不同颜色标签）

### 3.4 报修与检修管理

#### 3.4.1 设备报修

- **功能描述**：用户可以提交实验室设备报修申请
- **实现细节**：
  - 报修说明填写
  - 关联实验室信息
  - 报修状态跟踪（待处理、处理中、已完成）

#### 3.4.2 报修处理

- **功能描述**：管理员处理报修申请
- **实现细节**：
  - 报修记录查询和筛选
  - 填写检修信息（检修人、联系电话、检修部门、检修内容、处理说明、处理时间）
  - 状态更新

#### 3.4.3 检修记录管理

- **功能描述**：查看和管理检修记录
- **实现细节**：
  - 检修记录列表展示
  - 按检修人、检修内容、检修部门筛选
  - 检修详情查看

### 3.5 公告管理

#### 3.5.1 公告发布与管理

- **功能描述**：系统管理员发布和管理公告信息
- **实现细节**：
  - 公告的增删改查
  - 公告时间管理

#### 3.5.2 公告展示

- **功能描述**：在前台页面展示公告信息
- **实现细节**：
  - 公告轮播展示
  - 定时切换公告内容

### 3.6 数据可视化

#### 3.6.1 实验室使用统计

- **功能描述**：通过图表展示实验室使用情况
- **实现细节**：
  - 使用ECharts实现数据可视化
  - 饼图展示实验室分类分布
  - 柱状图展示实验室使用频率

## 4. 用户操作流程

### 4.1 学生用户

1. **注册流程**
   - 填写注册信息（用户名、密码、个人信息）
   - 上传学生证照片
   - 提交注册申请
   - 等待审核通过

2. **预约实验室流程**
   - 登录系统
   - 浏览可用实验室
   - 查看实验室详情（可选择查看使用手册或3D模型）
   - 选择预约时间段
   - 提交预约申请
   - 等待审核结果
   - 按预约时间使用实验室

3. **报修流程**
   - 发现设备问题
   - 提交报修申请（选择实验室、填写报修说明）
   - 跟踪报修处理状态

### 4.2 实验室管理员

1. **预约审核流程**
   - 登录系统
   - 查看待审核的预约申请
   - 审核申请（通过/拒绝）
   - 管理预约状态（结束使用中的预约）

2. **实验室管理流程**
   - 维护实验室信息
   - 上传使用手册和3D模型
   - 设置开放时间和预约规则

### 4.3 系统管理员

1. **用户管理流程**
   - 创建/编辑管理员和实验室管理员账号
   - 审核学生注册申请
   - 管理用户权限

2. **报修处理流程**
   - 查看报修记录
   - 安排检修
   - 填写检修信息
   - 更新报修状态

3. **系统维护流程**
   - 发布系统公告
   - 管理实验室分类
   - 查看系统使用统计

## 5. 异常处理和边缘情况

### 5.1 用户认证异常

- 登录失败处理：显示错误信息
- Token过期处理：自动跳转到登录页面
- 权限不足处理：显示403页面

### 5.2 预约冲突处理

- 时间冲突检测：预约时间不能与已有预约重叠
- 预约时长限制：不能超过实验室设置的最大预约时长
- 预约状态变更：取消预约、拒绝预约的处理机制

### 5.3 文件上传异常

- 文件类型限制：只允许上传指定格式的文件
- 文件大小限制：限制上传文件的最大大小
- 上传失败处理：显示错误信息并允许重试